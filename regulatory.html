<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ComplyTeam Dashboard</title>
    <link rel="stylesheet" href="css/regulatory.css">
</head>
<body>
    <div class="sidebar">
    <div>
      <div class="logo">
        <img src="img/LOGO.png" alt="Logo" />
        <strong>SkinBloom</strong>
      </div>
      <nav>
        <ul>
          <li class="active"><span>üè†</span> <a href="regulatory.html">Dashboard</a></li>
            <li><span>üîç</span> <a href="audit.html">Audits</a></li>
            <li><span>‚ö†Ô∏è</span> <a href="findings.html">Findings</a></li>
            <li><span>üìÅ</span> <a href="documents.html">Documents</a></li>
            <li><span>üö©</span> <a href="incident.html">Incidents</a></li>
        </ul>
      </nav>
    </div>
    <div class="user" id="userSection">
      <span>üë§</span>
      <div>
        <strong>Jasper John Dreo</strong>
        <small>Compliance</small>
      </div>
      <div class="logout-dropdown" id="logoutDropdown">
        <button class="logout-btn" onclick="logout()">üö™ Logout</button>
      </div>
    </div>
  </div>


    <div class="main">
        <header>
          <div>Regulatory Compliance</div>
          <div class="notif-wrapper" style="position: relative; display: inline-flex; align-items: center;">
            <svg class="bell-icon" id="notifBell" viewBox="0 0 24 24" style="cursor:pointer;">
              <path d="M12 22c1.1 0 2-.9 2-2h-4a2 2 0 0 0 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4a1.5 1.5 0 1 0-3 0v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
            </svg>
            <span id="notifBadge" style="position:absolute; top:-4px; right:-4px; background:#ef4444; color:#fff; border-radius:9999px; padding:0 6px; font-size:11px; line-height:18px; min-width:18px; text-align:center; display:none;">0</span>
            <div id="notifPopover" style="position:absolute; top:32px; right:0; width:360px; max-height:60vh; overflow:auto; background:#fff; border:1px solid #e5e7eb; border-radius:10px; box-shadow:0 10px 24px rgba(0,0,0,0.15); display:none; z-index:1000;">
              <div style="padding:10px 12px; border-bottom:1px solid #f1f5f9; display:flex; justify-content:space-between; align-items:center;">
                <strong>Notifications</strong>
                <button id="notifCloseBtn" class="btn" style="padding:4px 8px;">‚úï</button>
              </div>
              <div id="notifList"></div>
            </div>
          </div>
        </header>

        <section class="stats">
            <div class="card blue">Total Regulations <span id="totalRegs">0</span></div>
            <div class="card red">Non-Compliant <span id="nonCompliant">0</span></div>
            <div class="card green">Compliant <span id="compliant">0</span></div>
            <div class="card yellow">Review Soon <span id="reviewSoon">0</span></div>
        </section>

        <section class="content">
            <div class="row">
                <div class="left">
                    <div class="pending-header">
                      <h2>Risk Distribution by Department</h2>
                      <div>
                                                 <button id="deptFilterBtn" class="btn btn-primary">üîç Filter</button>
                      </div>
                    </div>
                    <div class="chart-scroll">
                      <div class="chart-inner">
                        <canvas id="complianceChart"></canvas>
                      </div>
                    </div>
                </div>

                <div class="right">
                    <div class="pending-header">
                        <h2>Pending Tasks</h2>
                        <a href="#" class="view-all">View All</a>
                    </div>
                    <ul class="task-list" id="pendingList"></ul>
                </div>
            </div>

            <section class="table">
                <div class="table-header">
                    <h2>Active Regulations</h2>
                    <button id="addRegulationBtn" class="btn btn-primary">‚ûï Add New Regulation</button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Regulation Name</th>
                            <th>Department</th>
                            <th>Status</th>
                            <th>Risk Level</th>
                            <th>Last Review</th>
                            <th>Next Review</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="regsBody"></tbody>
                </table>
            </section>



        </section>
    </div>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="notifications.js"></script>
    <script src="regulatory.js"></script>
  </body>
</html>






